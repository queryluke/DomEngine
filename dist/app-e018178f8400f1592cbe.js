webpackJsonp([1],[,function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}var r=t(0),s=a(r);s["default"].module("app").run(["$templateCache",function(n){n.put("app/components/About.html",'<div class="pt-page-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-xs-12 text-xs-center">\n                <h2>About DomEngine</h2>\n                <p>Inspiring text tdb...</p>\n            </div>\n            <div class="col-sm-12 col-md-8">\n                <h3>Author <small>(shameless self-promotion)</small></h3>\n                <ul>\n                    <li>\n                        Luke Aeschleman:\n                        <a href="https://github.com/queryluke" target="_blank"><i class="fa fa-github"></i></a>\n                        |\n                        <a href="https://www.linkedin.com/in/luke-aeschleman-5a20a754" target="_blank"><i class="fa fa-linkedin-square"></i></a>\n                        |\n                        <a href="https://plus.google.com/u/0/+LukeAeschleman" target="_blank"><i class="fa fa-google-plus"></i></a>\n                        |\n                        <a href="https://twitter.com/queryluke" target="_blank"><i class="fa fa-twitter"></i></a>\n                    </li>\n                </ul>\n                <h3>Techs</h3>\n                <ul>\n                    <li><a href="https://angularjs.org" target="_blank">AngularJS 1</a></li>\n                    <li>Scaffolded by the amazing <a href="http://fountainjs.io/" target="_blank">FountainJS</a></li>\n                    <li>CSS Framework: <a href="http://getbootstrap.com/" target="_blank">Bootstrap (v4-alpha)</a></li>\n                    <li>Major props to the creators of <a href="https://github.com/angular-slider/angularjs-slider" target="_blank">angular-slider</a></li>\n                </ul>\n                <h3>Inspiration</h3>\n                <ul>\n                    <li>Stretchy Nav inspired by: <a href="https://codyhouse.co/gem/stretchy-navigation/" target="_blank">CodyHouse</a></li>\n                    <li>Page Transitions inspired by: <a href="http://tympanus.net/codrops/author/pbotelho/" target="_blank">Pedro Botelho</a> <a href="http://tympanus.net/codrops/2013/05/07/a-collection-of-page-transitions/">@codrops</a></li>\n                </ul>\n                <h3>Graphics and Images</h3>\n                <ul>\n                    <li>Card Images from <a href="http://wiki.dominionstrategy.com/index.php/Main_Page" target="blank">Dominion Strategy Wiki</a></li>\n                    <li><a href="http://boardgamegeek.com/filepage/73273/dominion-card-icons-vector-images">SVG Icons</a> created by <a href="http://boardgamegeek.com" target="_blank">BoardGameGeek</a> user <a href="http://boardgamegeek.com/user/m_knox" target="_blank">m_knox</a></li>\n                    <li>All other icons from <a href="http://fontawesome.io/">FontAwesome</a></li>\n                </ul>\n            </div>\n            <div class="col-sm-12 col-md-4">\n                <h3>Future Features <small>(a.k.a. todo list)</small></h3>\n                <ul>\n                    <li>Adventures, Empires, and Promos</li>\n                    <li><s>Mobile Friendlier</s></li>\n                    <li><s>Clean up the code (round 1)</s></li>\n                    <li>Swap playset card</li>\n                    <li>Share playset</li>\n                    <li>PreDefined Option Sets</li>\n                    <li>Guide / Better Tutorial</li>\n                    <li><s>Standardize Page Transitions</s></li>\n                    <li>Card Enter Animations</li>\n                    <li>Better balance logic</li>\n                    <li>Toggle OR/AND logic for inventory</li>\n                </ul>\n            </div>\n            <div class="col-xs-12 changelog">\n                <h3>Changelog</h3>\n                <div class="change">\n                    <h4>Sep 18, 2016</h4>\n                    <p>Playsets have unique ids. First step towards sharing!</p>\n                </div>\n                <div class="change">\n                    <h4>Oct 14, 2016</h4>\n                    <ul>\n                        <li>Changed <em>Playset</em> view to <em>Playmat</em></li>\n                        <li>Moved hefty amount of logic from main controller (<em>DomEngine.js</em>) to new model <em>Playset.js</em></li>\n                        <li>\n                            New Playset Model allows:\n                            <ul>\n                                <li>Adding & Removing cards</li>\n                                <li>Calculate playset totals (total card types & card additions</li>\n                                <li>Import playset from ID string</li>\n                                <li>Find required cards</li>\n                            </ul>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("app/components/AdvancedOptions.html",'<div class="pt-page-content m-b-3">\n    <div class="container m-t-1">\n        <div class="row">\n            <div class="col-xs-12 text-xs-center">\n                <h1>Build Options</h1>\n            </div>\n        </div>\n        <div class="row m-t-2 text-xs-center">\n            <h2>Expansions</h2>\n            <expansion-list expansions="$ctrl.config.expansions"></expansion-list>\n        </div>\n        <div class="row m-t-2">\n            <div class="col-xs-12">\n                <button class="btn btn-primary" ng-click="$ctrl.handleBuild()">Build a Playset</button>\n                <button class="btn btn-outline-warning pull-xs-right" ng-click="$ctrl.handleResetOptions()">Reset Options</button>\n            </div>\n        </div>\n        <div class="section-divider"></div>\n        <div class="row m-t-2">\n            <div class="col-xs-12 text-xs-center">\n                <h2>Advanced Options</h2>\n            </div>\n        </div>\n        <div class="row m-t-1">\n            <div class="col-xs-12">\n                <h3>Limit Card Types\n                    <span class="text-info">\n                        <i class="fa fa-question-circle-o" aria-hidden="true" ng-click="$ctrl.toggleHelpText(\'cardTypes\')"></i>\n                    </span>\n                </h3>\n                <div class="help-block well" ng-show="$ctrl.showHelpText === \'cardTypes\'">\n                    <p>\n                        For each slider, set the max number of that type you want in your playset.\n                        For a 100% random playset, (without any balancing) set all values to 10\n                    </p>\n                </div>\n                <div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="(type, value) in $ctrl.config.limits track by $index">\n                    <label class="text-capitalize">{{ type }}</label>\n                    <rzslider rz-slider-model="$ctrl.config.limits[type]" rz-slider-options="{floor: 0, ceil: 10}"></rzslider>\n                </div>\n            </div>\n        </div>\n\n        <div class="row m-t-1">\n            <div class="col-xs-12">\n                <h3>Limit Max Cost\n                    <span class="text-info">\n                        <i class="fa fa-question-circle-o" aria-hidden="true" ng-click="$ctrl.toggleHelpText(\'maxCost\')"></i>\n                    </span>\n                </h3>\n                <div class="help-block well" ng-show="$ctrl.showHelpText === \'maxCost\'">\n                    <p>\n                        The total cost of all Kingdom Cards. 39, 42, and 49 are great starting points.\n                    </p>\n                    <p>\n                        <strong>Note:</strong> For Prosperity, it\'s recommended to use the max setting of 73.\n                    </p>\n                    <p>\n                        <strong>Caveat:</strong> Occasionally, DomEngine cannot find a card below the required cost. For example, if the max\n                        cost is 39, and the first 9 Kingdom Cards total 38 (there are no 1 cost cards). In this instance, the last card\n                        in will be fetched without a max limit. Something that will be remedied in later versions.\n                    </p>\n                </div>\n                <div class="col-xs-12">\n                    <rzslider rz-slider-model="$ctrl.config.cost" rz-slider-options="{floor: 20, ceil: 73, onChange: $ctrl.change()}"></rzslider>\n                </div>\n            </div>\n        </div>\n\n        <div class="row m-t-1">\n            <div class="col-xs-12">\n                <h3>Card Abilities (finicky)\n                    <span class="text-info">\n                        <i class="fa fa-question-circle-o" aria-hidden="true" ng-click="$ctrl.toggleHelpText(\'cardAbilities\')"></i>\n                    </span>\n                </h3>\n                <div class="help-block well" ng-show="$ctrl.showHelpText === \'cardAbilities\'">\n                    <p>\n                        Cards can add additional attacks, buys, coin, and draws to your turn. You can set the min & max value for each ability.\n                        This setting is based on the ability amount, not the card count. For example: "Festival" counts for\n                        2 coins, 2 actions, and 1 buy. Cards that potentially add abilities count for 1 (e.g. Library).\n                    </p>\n                    <p>\n                        <strong>Note:</strong> Disable the ability check by setting both values to 0.\n                    </p>\n                    <p>\n                        <strong class="text-warning">Warning</strong>: To prevent playset build errors, it\'s recommended to leave the lower bound &lt; 4, and the upper bound &gt; 5.\n                        This feature will be improved in later releases.\n                    </p>\n                </div>\n                <div class="col-sm-12 col-md-6" ng-repeat="(type, value) in $ctrl.config.adds track by $index">\n                    <label class="text-capitalize">{{ type }}</label>\n                    <rzslider rz-slider-model="$ctrl.config.adds[type].min" rz-slider-high="$ctrl.config.adds[type].max" rz-slider-options="{floor: 0, ceil: 10}"></rzslider>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("app/components/Card.html",'<div class="dom-card">\n    <img class="card-image" ng-src="{{ $ctrl.card.image }}" alt="{{ $ctrl.card.name }}" ng-if="$ctrl.$storage.useImages">\n    <div class="card-desc" ng-show="!$ctrl.$storage.useImages">\n        <h4 class="card-title"><small>{{ $ctrl.card.name }}</small></h4>\n        <div class="card-text-wrapper">\n            <p class="card-text" ng-repeat="text in $ctrl.card.text track by $index">{{ text }}</p>\n        </div>\n        <div class="card-cost-wrapper">\n            <div class="card-cost" ng-if="$ctrl.card.cost.coin">{{ $ctrl.getCardCost() }}</div>\n            <div ng-if="$ctrl.card.cost.potion" class="card-icon add-cost-icon">\n                <svg>\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="icons.svg#icon-alchemy"></use>\n                </svg>\n            </div>\n        </div>\n        <div class="card-types text-capitalize">\n            {{ $ctrl.getCardTypes() }}\n        </div>\n        <div class="card-icon card-expansion-icon">\n            <svg>\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{ $ctrl.getCardExpansion($ctrl.card.set) }}"></use>\n            </svg>\n        </div>\n    </div>\n</div>\n'),n.put("app/components/CardList.html",'<div class="flex-container text-xs-center">\n    <dominion-card ng-repeat="card in $ctrl.cards track by $index" card="card"></dominion-card>\n</div>\n'),n.put("app/components/ExpansionList.html",'<div class="row m-t-1">\n    <div ng-repeat="expac in $ctrl.expansions track by $index" class="dominion-icon-select" ng-class="{\'selected\': expac.use}" ng-click="expac.use = !expac.use; $ctrl.onClickAction()">\n        <svg>\n            <use xlink:href="{{ $ctrl.getIcon(expac) }}"></use>\n        </svg>\n        <span class="icon-text">{{ expac.name }}</span>\n    </div>\n</div>\n'),n.put("app/components/Inventory.html",'<div class="pt-page-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-sm-12 col-lg-4 text-xs-right text-sm-center text-lg-left">\n                <h1>Inventory</h1>\n            </div>\n        </div>\n\n        <search-form search-params="$ctrl.searchParams" on-search="$ctrl.search()"></search-form>\n\n        <div class="row m-t-2">\n            <div class="col-xs-12">\n\n                <a ng-click="$ctrl.$storage.useImages = !$ctrl.$storage.useImages" class="btn btn-sm btn-info" style="position: absolute; right: 2rem">\n                    <i class="fa fa-picture-o"></i>\n                    <span id="imageStrikeThrough" ng-if="$ctrl.$storage.useImages"></span>\n                    <span class="hidden-xs-down">Card Images</span>\n                </a>\n\n                <h2 ng-if="$ctrl.results.length">{{ $ctrl.results.length }} card<span ng-if="$ctrl.results.length > 1">s</span> found</h2>\n                <h2 ng-if="!$ctrl.results.length">No results found!</h2>\n\n                <div class="text-xs-center">\n                    <card-list cards="$ctrl.results"></card-list>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("app/components/Nav.html",'<nav class="stretchy-nav" ng-class="{\'nav-open\': $ctrl.showMenu}">\n    <a class="nav-trigger" ng-click="$ctrl.showMenu = !$ctrl.showMenu">\n        <span class="sr-only">Menu</span>\n        <span aria-hidden="true"></span>\n    </a>\n    <ul class="list-unstyled">\n        <li><a href="welcome" ng-class="{active: $ctrl.$state.current.name == \'welcome\'}">\n            <span class="text-xs-center icon-wrapper">\n                <i class="fa fa-home fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Home</span></a>\n        </li>\n        <li><a href="playset" ng-class="{active: $ctrl.$state.current.name == \'playset\'}">\n            <span class="text-xs-center icon-wrapper">\n                <i class="fa fa-gamepad fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Playset</span></a>\n        </li>\n        <li><a ng-href="advanced-options" ng-class="{active: $ctrl.$state.current.name == \'advancedOptions\'}">\n            <span class="text-xs-center icon-wrapper">\n                <i class="fa fa-cogs fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Options</span></a>\n        </li>\n        <li><a ng-href="inventory" ng-class="{active: $ctrl.$state.current.name == \'inventory\'}">\n            <span class="text-xs-center icon-wrapper">\n                <i class="fa fa-cubes fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Inventory</span></a>\n        </li>\n        <li><a ng-href="about" ng-class="{active: $ctrl.$state.current.name == \'about\'}">\n            <span class="text-xs-center icon-wrapper">\n                <i class="fa fa-info-circle fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">About</span></a>\n        </li>\n        <li><a href="https://github.com/queryluke/DomEngine" target="_blank">\n            <span class="text-xs-center icon-wrapper">\n                <i class="fa fa-github fa-lg" aria-hidden="true"></i>\n            </span>\n            <span class="menu-text">Github</span></a>\n        </li>\n    </ul>\n\n    <span aria-hidden="true" class="stretchy-nav-bg"></span>\n</nav>'),n.put("app/components/Playmat.html",'<div class="pt-page-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-sm-12 col-lg-4 text-xs-right text-sm-center text-lg-left">\n                <h1>Playset</h1>\n            </div>\n            <div class="col-sm-12 col-lg-8 text-xs-right text-sm-center text-lg-right">\n                <button class="btn btn-outline-primary" ng-click="$ctrl.onBuild()"><i class="fa fa-refresh"></i> Re-build</button>\n                <a ng-href="advanced-options" class="btn btn-outline-secondary"><i class="fa fa-cogs"></i> Build Options</a>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-xs-12 m-t-1">\n                <!-- errors -->\n                <div class="alert alert-danger" ng-if="$ctrl.errors.length">\n                    <h3>Oops, something went wrong</h3>\n                    <ul>\n                        <li ng-repeat="error in $ctrl.errors track by $index">{{ error }}</li>\n                    </ul>\n                </div>\n                <!-- warnings -->\n                <div class="alert alert-warning" ng-if="$ctrl.warning.length">\n                    <h3>Notice</h3>\n                    <ul>\n                        <li ng-repeat="warn in $ctrl.warning track by $index">{{ warn }}</li>\n                    </ul>\n                </div>\n                <div class="well">\n                    <a ng-click="$ctrl.$storage.useImages = !$ctrl.$storage.useImages" class="btn btn-sm btn-info" style="position: absolute; right: 2rem">\n                        <i class="fa fa-picture-o"></i>\n                        <span id="imageStrikeThrough" ng-if="$ctrl.$storage.useImages"></span>\n                        <span class="hidden-xs-down">Card Images</span>\n                    </a>\n                    <h2>Kingdom Cards</h2>\n                    <card-list cards="$ctrl.playset.cards"></card-list>\n                    <h2>Supply Cards</h2>\n                    <card-list cards="$ctrl.treasure"></card-list>\n                    <card-list cards="$ctrl.victory"></card-list>\n                    <card-list cards="$ctrl.ruins"></card-list>\n                    <h2 ng-if="$ctrl.playset.requiredCards.other.length">Additional Required Cards</h2>\n                    <card-list cards="$ctrl.playset.requiredCards.other"></card-list>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),n.put("app/components/SearchForm.html",'<div class="row">\n    <!-- Text -->\n    <div class="col-xs-12 col-sm-6">\n        <h5>Text</h5>\n        <input type="text" class="form-control" id="cardName" ng-model="$ctrl.searchParams.name" ng-change="$ctrl.onSubmit()">\n    </div>\n    <!-- Cost -->\n    <div class="col-xs-12 col-sm-6">\n        <div class="row">\n            <div class="form-group col-xs-12 col-sm-6">\n                <h5>Min Cost</h5>\n                <input type="number" min="0" max="8" class="form-control" id="minCost" ng-model="$ctrl.searchParams.costL" ng-change="$ctrl.onSubmit()">\n            </div>\n            <div class="form-group col-xs-12 col-sm-6">\n                <h5>Max Cost</h5>\n                <input type="number" min="0" max="8" class="form-control" id="maxCost" ng-model="$ctrl.searchParams.costG" ng-change="$ctrl.onSubmit()">\n            </div>\n        </div>\n        <!--<rzslider\n                rz-slider-model="$ctrl.searchParams.costL"\n                rz-slider-high="$ctrl.searchParams.costG"\n                rz-slider-options="{floor: 0, ceil: 8"></rzslider>-->\n    </div>\n</div>\n\n<!-- Expansions -->\n<div class="row m-t-1">\n    <div class="col-xs-12">\n        <h5>Expansions</h5>\n        <div class="text-xs-center">\n            <expansion-list expansions="$ctrl.searchParams.expansions" on-click-action="$ctrl.onSubmit()"></expansion-list>\n        </div>\n    </div>\n</div>\n\n<!-- Types -->\n<div class="row m-t-1">\n    <div class="col-xs-12">\n        <h5>Types</h5>\n        <label ng-repeat="(type,value) in $ctrl.searchParams.types" for="{{ type }}" class="form-check-inline text-capitalize">\n            <input type="checkbox" id="{{ type }}" ng-model="$ctrl.searchParams.types[type]" ng-change="$ctrl.onSubmit()" class="form-check-input">\n            {{ type }}\n        </label>\n    </div>\n</div>\n\n<!-- Attributes -->\n<div class="row m-t-1">\n    <div class="col-xs-12">\n        <h5>Attributes</h5>\n        <label ng-repeat="(type,value) in $ctrl.searchParams.adds" for="add-{{ type }}" class="form-check-inline text-capitalize">\n            <input type="checkbox" id="add-{{ type }}" ng-model="$ctrl.searchParams.adds[type]" ng-change="$ctrl.onSubmit()" class="form-check-input">\n            +{{ type }}\n        </label>\n    </div>\n</div>\n\n'),n.put("app/components/Welcome.html",'<div class="pt-page-content">\n    <div class="welcome-tron">\n        <h1>DomEngine</h1>\n        <p class="text">An attempt to make randomizing Dominion playsets easy</p>\n\n        <div class="build-form">\n            <h2>Choose Your Expansions</h2>\n            <div class="row">\n                <expansion-list expansions="$ctrl.expansions"></expansion-list>\n            </div>\n            <div class="row">\n                <button class="btn btn-primary" id="build" ng-click="$ctrl.handleBuild()">Build a Playset</button>\n                <p style="margin-top:10px"><a ng-href="advanced-options"><small>Advanced Options</small></a></p>\n            </div>\n        </div>\n    </div>\n    <div class="welcome-footer text-xs-center hidden-xs-down">\n        <p class="text">\n            <small style="line-height: .5rem">\n                Images served from the\n                <a href="http://wiki.dominionstrategy.com/index.php/Main_Page" target="blank">Dominion Strategy Wiki</a>,\n                and are available under\n                <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">\n                    Creative Commons Attribution Non-Commercial Share Alike\n                </a>\n            </small>\n            <br>\n            <small style="line-height: .5rem">\n                <a href="http://boardgamegeek.com/filepage/73273/dominion-card-icons-vector-images">SVG Icons</a>\n                created by <a href="http://boardgamegeek.com" target="_blank">BoardGameGeek</a> user\n                <a href="http://boardgamegeek.com/user/m_knox" target="_blank">m_knox</a>.\n            </small>\n        </p>\n    </div>\n</div>\n'),n.put("app/containers/DomEngine.html",'<domengine-nav></domengine-nav>\n<div id="pt-main" class="pt-perspective">\n    <ui-view id="{{$root.$state}}" class="{{$root.$previousState}} pt-page"></ui-view>\n</div>\n\n')}])},function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}var r=t(0),s=a(r),i=t(22),o=t(10),l=t(11),c=t(12),d=t(13),u=t(14),p=t(15),h=t(16),f=t(17),m=t(18),v=t(19),g=t(20),y=t(23),b=a(y);t(5),t(4),t(27),t(7);var x=t(25),$=a(x),w=t(26),k=a(w);t(9),s["default"].module("app",["ui.router","ngAnimate","ngStorage","rzModule"]).config($["default"]).service("DomEngineService",o.DomEngineService).component("about",l.About).component("advancedOptions",c.AdvancedOptions).component("cardList",u.CardList).component("domengine",i.DomEngine).component("domengineNav",f.Nav).component("dominionCard",d.Card).component("expansionList",p.ExpansionList).component("inventory",h.Inventory).component("playmat",m.Playmat).component("searchForm",v.SearchForm).component("welcome",g.Welcome).directive("checkLoaded",b["default"]).run(k["default"])},,,,,,,function(n,e){},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();e.DomEngineService=function(){function n(e){t(this,n),this.$http=e}return n.$inject=["$http"],a(n,[{key:"getCards",value:function(){function n(n){return n.data}function e(n){console.log("XHR Failed for getCards."),console.log(n.data)}return this.$http.get("data/cards.json").then(n)["catch"](e)}},{key:"getSets",value:function(){function n(n){return n.data}function e(n){console.log("XHR Failed for getSets."),console.log(n.data)}return this.$http.get("data/sets.json").then(n)["catch"](e)}},{key:"getSupplyCards",value:function(){function n(n){return n.data}function e(n){console.log("XHR Failed for getSets."),console.log(n.data)}return this.$http.get("data/supplyCards.json").then(n)["catch"](e)}},{key:"bootstrapDomEngine",value:function(){function n(n){return n}function e(n){console.log("XHR Failed for bootstrapDomEngine."),console.log(n)}return Promise.all([this.getSets(),this.getCards(),this.getSupplyCards()]).then(n)["catch"](e)}}]),n}()},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.About={templateUrl:"app/components/About.html"}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(){t(this,n)}return a(n,[{key:"$onInit",value:function(){this.showHelpText=""}},{key:"toggleHelpText",value:function(n){this.showHelpText=this.showHelpText===n?"":n}},{key:"handleResetOptions",value:function(){this.resetOptions()}},{key:"handleBuild",value:function(){this.onBuild()}}]),n}();e.AdvancedOptions={templateUrl:"app/components/AdvancedOptions.html",controller:r,bindings:{config:"<",resetOptions:"&",onBuild:"&"}}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(e){t(this,n),this.$storage=e}return n.$inject=["$localStorage"],a(n,[{key:"getCardCost",value:function(){return this.card.cost.coin.replace("plus","*")}},{key:"getCardTypes",value:function(){var n=this.card.types.filter(function(n){return"supply"!==n});return n.join(" - ")}},{key:"getCardExpansion",value:function(n){if(n){var e=n.toLowerCase().replace(" ","");return"icons.svg#icon-"+e}}}]),n}();r.$inject=["$localStorage"];e.Card={templateUrl:"app/components/Card.html",controller:r,bindings:{card:"<"}}},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CardList={templateUrl:"app/components/CardList.html",bindings:{cards:"<"}}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(){t(this,n)}return a(n,[{key:"getIcon",value:function(n){var e=n.name.toLowerCase().replace(" ","");return"icons.svg#icon-"+e}}]),n}();e.ExpansionList={templateUrl:"app/components/ExpansionList.html",controller:r,bindings:{expansions:"<",onClickAction:"&"}}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(e){t(this,n),this.$storage=e,this.searchParams={name:"",types:this.cardTypes,costL:0,costG:8,expansions:this.expansions,adds:{action:!1,buy:!1,coin:!1,draw:!1}},this.results=[],console.log(this.searchParams.types)}return n.$inject=["$localStorage"],a(n,[{key:"$onInit",value:function(){this.search()}},{key:"$onChanges",value:function(n){n.cardTypes&&(this.searchParams.types=Object.assign({},this.cardTypes)),n.expansions&&(this.searchParams.expansions=Object.assign([],this.expansions)),n.inventory&&(this.inventory=Object.assign([],this.inventory))}},{key:"search",value:function(){var n=this,e=this.inventory;this.searchParams.name&&!function(){var t=new RegExp(n.searchParams.name,"gi");e=e.filter(function(n){return t.test(n.name.concat(n.text.join()))===!0})}();var t=[];for(var a in this.searchParams.types)this.searchParams.types[a]&&t.push(a);t.length>0&&(e=e.filter(function(n){var e=0,a=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;e=n.types.includes(l)?e+1:e}}catch(c){r=!0,s=c}finally{try{!a&&o["return"]&&o["return"]()}finally{if(r)throw s}}return e>0}));var r=[];for(var s in this.searchParams.adds)this.searchParams.adds[s]&&r.push(s);r.length>0&&(e=e.filter(function(n){var e=0,t=!0,a=!1,s=void 0;try{for(var i,o=r[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;n.adds&&(e=n.adds[l]>0?e+1:e)}}catch(c){a=!0,s=c}finally{try{!t&&o["return"]&&o["return"]()}finally{if(a)throw s}}return e>0}));var i=[],o=!0,l=!1,c=void 0;try{for(var d,u=this.searchParams.expansions[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var p=d.value;p.use&&i.push(p.name)}}catch(h){l=!0,c=h}finally{try{!o&&u["return"]&&u["return"]()}finally{if(l)throw c}}i.length>0&&(e=e.filter(function(n){var e=0,t=!0,a=!1,r=void 0;try{for(var s,o=i[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var l=s.value;e=n.set===l?e+1:e}}catch(c){a=!0,r=c}finally{try{!t&&o["return"]&&o["return"]()}finally{if(a)throw r}}return e>0})),e=e.filter(function(e){return parseInt(e.cost.coin,10)>=n.searchParams.costL}),e=e.filter(function(e){return parseInt(e.cost.coin,10)<=n.searchParams.costG}),this.results=e}}]),n}();r.$inject=["$localStorage"];e.Inventory={templateUrl:"app/components/Inventory.html",controller:r,bindings:{expansions:"<",inventory:"<",cardTypes:"<"}}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(e){t(this,n),this.$state=e}return n.$inject=["$state"],a(n,[{key:"$onInit",value:function(){this.showMenu=!1}}]),n}();e.Nav={templateUrl:"app/components/Nav.html",controller:r}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(e){t(this,n),this.$storage=e}return n.$inject=["$localStorage"],a(n,[{key:"$onInit",value:function(){this.setSupplyCards()}},{key:"$onChanges",value:function(n){n.playset&&this.setSupplyCards()}},{key:"setSupplyCards",value:function(){this.treasure=this.filterByType(this.playset.requiredCards.supply,"treasure"),this.victory=this.filterByType(this.playset.requiredCards.supply,"victory"),this.ruins=this.filterByType(this.playset.requiredCards.supply,"ruins")}},{key:"filterByType",value:function(n,e){return n.filter(function(n){return n.types.includes(e)})}}]),n}();e.Playmat={templateUrl:"app/components/Playmat.html",
controller:r,bindings:{playset:"<",onBuild:"&",errors:"<",warning:"<"}}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(){t(this,n)}return a(n,[{key:"onSubmit",value:function(){this.onSearch()}}]),n}();e.SearchForm={bindings:{searchParams:"<",onSearch:"&"},templateUrl:"app/components/SearchForm.html",controller:r}},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),r=function(){function n(){t(this,n)}return a(n,[{key:"handleBuild",value:function(){console.log("build"),this.onBuild()}}]),n}();e.Welcome={templateUrl:"app/components/Welcome.html",controller:r,bindings:{onBuild:"&",expansions:"<"}}},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={cost:42,adds:{action:{min:3,max:6},coin:{min:1,max:6},buy:{min:2,max:6},draw:{min:1,max:6}},limits:{attack:2,treasure:1,victory:1,duration:1,reaction:1,curse:1},requireAttackCounter:!0,expansions:{}}},function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function r(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function s(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DomEngine=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},o=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),l=t(21),c=a(l),d=t(24),u=a(d),p=function(){function n(e,t,a,r){s(this,n),this._ds=a,this.$storage=e,this.$state=t,this.$log=r}return n.$inject=["$localStorage","$state","DomEngineService","$log"],o(n,[{key:"$onInit",value:function(){var n=this;this.baseConfig=JSON.parse(JSON.stringify(c["default"])),this.errors=[],this.warning=[],this.supplyCards=[],this.expansions=[],this.cardTypes={},this.inventory=[],this._ds.bootstrapDomEngine().then(function(e){if(n.baseConfig.expansions=e[0],n.$storage.expansions=e[0],n.expansions=e[0],n.cards=e[1],n.supplyCards=e[2],n.inventory=e[1].concat(e[2]),n.cardTypes=n.getTypes(n.inventory),n.$state.params.p){var t=new u["default"];n.$storage.playset=t.importPlayset(n.$state.params.p,n.inventory)}}),void 0===this.$storage.config&&(this.$storage.config=this.baseConfig)}},{key:"getTypes",value:function(n){var e=new Set,t={},a=!0,s=!1,i=void 0;try{for(var o,l=n[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value,d=!0,u=!1,p=void 0;try{for(var h,f=c.types[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var m=h.value;e.add(m)}}catch(v){u=!0,p=v}finally{try{!d&&f["return"]&&f["return"]()}finally{if(u)throw p}}}}catch(v){s=!0,i=v}finally{try{!a&&l["return"]&&l["return"]()}finally{if(s)throw i}}var g=[].concat(r(e));g.sort(function(n,e){return n<e?-1:n>e?1:0});var y=!0,b=!1,x=void 0;try{for(var $,w=g[Symbol.iterator]();!(y=($=w.next()).done);y=!0){var k=$.value;t[k]=!1}}catch(v){b=!0,x=v}finally{try{!y&&w["return"]&&w["return"]()}finally{if(b)throw x}}return t}},{key:"onBuild",value:function(){var n=[];this.errors=[],this.warning=[];var e=!0,t=!1,a=void 0;try{for(var r,s=this.$storage.config.expansions[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;i.use&&n.push(i.name)}}catch(o){t=!0,a=o}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw a}}if(this.$log.debug(n),0!==n.length){var l=[],c=!0,d=!1,p=void 0;try{for(var h,f=this.cards[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var m=h.value;n.indexOf(m.set)!==-1&&l.push(m)}}catch(o){d=!0,p=o}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw p}}this.createPlayset(l,this.$storage.config),this.errors.length?this.playset=new u["default"]:(this.playset.setRequiredCards(this.supplyCards),this.playset.sortCards(),this.$state.transitionTo("playset",{p:this.playset.getPlaysetId()}),this.$storage.playset=this.playset)}}},{key:"createPlayset",value:function(n,e){if(this.$log.debug("generating playset"),this.playset=new u["default"],this.getMinimumNeededCards(n,e),!(this.errors.length>0)){for(var t=0;this.playset.cards.length<10;)t+=1,this.addPlaysetCard(n,e),t>11&&this.playset.cards.length<10&&this.addPlaysetCard(n,e,!0);this.errors.length>0||(this.$log.debug("playset built"),this.$log.debug(this.playset))}}},{key:"addPlaysetCard",value:function(n,e){for(var t=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],a=t?100:e.cost,r=Object.assign([],n),s=0;s<1;){if(0===r.length){this.errors.push("Cannot meet the option requirements");break}var i=this.randomNumber(r.length),o=r.splice(i,1)[0];this.checkValidCard(o,e,a)&&(this.playset.addCard(o),n.splice(i,1),s++)}}},{key:"getMinimumNeededCards",value:function(n,e){var t=this,a=function(a){if(0!==e.adds[a].min&&0!==e.adds[a].max){var r=1,s=t.playset.adds[a];for(t.$log.debug(a.toUpperCase()+" - Minimum:"+e.adds[a].min+" | Current:"+t.playset[a]);r<6;){t.$log.debug("attempt #"+r+" for "+a);var i=[];t.playset.adds[a]=s;for(var o=n.filter(function(n){return n.adds[a]>0});t.playset.adds[a]<e.adds[a].min;){if(t.$log.debug("length of the "+a+" subset: "+o.length),0===o.length||t.playset.length>10){t.$log.debug("cannot find set for "+a+" on attempt "+r);var l=!0,c=!1,d=void 0;try{for(var u,p=i[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var h=u.value;t.playset.removeCard(h)}}catch(f){c=!0,d=f}finally{try{!l&&p["return"]&&p["return"]()}finally{if(c)throw d}}break}var m=t.randomNumber(o.length);t.$log.debug("random number: "+m);var v=o.splice(m,1)[0];t.$log.debug("trying "+v.name),t.checkValidCard(v,e,e.cost)&&(i.push(v),t.playset.addCard(v)),t.$log.debug("total playset "+a+" is "+t.playset[a]+", need "+(e.adds[a].min-t.playset[a])+" more "+a+"s"),t.$log.debug("not adding "+v.name)}t.playset.adds[a]>=e.adds[a].min?r=10:r++}if(10!==r)return t.$log.debug("Too many attempts to match the "+a+" requirement"),t.errors.push("Too many attempts to match the "+a+" requirement"),{v:void 0};t.$log.debug("FINISHED - "+a.toUpperCase()+" Total "+a+" is "+t.playset[a]+", required was "+e.adds[a].min)}};for(var r in e.adds){var s=a(r);if("object"===("undefined"==typeof s?"undefined":i(s)))return s.v}for(var o in e.adds)this.playset.adds[o]>e.adds[o].max&&(e.adds[o].max=this.playset.adds[o],this.warning.push("Had to increase "+o+" max limit"));this.$log.debug("FINISHED - ATTRMIN - Current playset cards is "+this.playset.cards.length)}},{key:"checkValidCard",value:function(n,e,t){var a={};a.buy=0===e.adds.buy.max?100:e.adds.buy.max,a.draw=0===e.adds.draw.max?100:e.adds.draw.max,a.action=0===e.adds.action.max?100:e.adds.action.max,a.coin=0===e.adds.coin.max?100:e.adds.coin.max;var r="";if(this.playset.cards.indexOf(n)!==-1)return r=n.name+" IN the playset",!1;r=n.name+" NOT in the playset",this.$log.debug(r);var s=n.cost.coin?parseInt(n.cost.coin.replace(/[\D]/gi,""),10):1;if(!(this.playset.cost+s<=t))return r="Skip "+n.name+": cost -> "+s+", + "+this.playset.cost+" > "+t,!1;r="Add "+n.name+": cost -> "+s+" + "+this.playset.cost+" < "+t,this.$log.debug(r);var i=n.requires.includes("Curse")?1:0;if(!(this.playset.curse+i<=e.limits.curse))return r="Skip "+n.name+": curse -> "+i+", + "+this.playset.curse+" > "+e.limits.curse,!1;r="Add "+n.name+": curse -> "+i+" + "+this.playset.curse+" < "+e.limits.curse,this.$log.debug(r);for(var o in this.playset.types)if({}.hasOwnProperty.call(this.playset.types,o)){var l=n.types.includes(o)?1:0;if(!(this.playset.types[o]+l<=e.limits[o]))return r="Skip "+n.name+": "+o+" -> "+l+", + "+this.playset.types[o]+" > "+e.limits[o],!1;r="Add "+n.name+": "+o+" -> "+l+" + "+this.playset.types[o]+" < "+e.limits[o],this.$log.debug(r)}for(var c in this.playset.adds)if({}.hasOwnProperty.call(this.playset.adds,c)){var d=n.adds[c];if(!(this.playset.adds[c]+d<=a[c]))return r="Skip "+n.name+": "+c+" -> "+d+" + "+this.playset.adds[c]+" > "+a[c],!1;r="Add "+n.name+": "+c+" -> "+d+" + "+this.playset.adds[c]+" < "+a[c],this.$log.debug(r)}return this.$log.debug("Adding "+n.name+", passes all requirements"),!0}},{key:"randomNumber",value:function(n){return Math.floor(Math.random()*n)}},{key:"resetOptions",value:function(){var n=this;this._ds.getSets().then(function(e){var t=JSON.parse(JSON.stringify(c["default"]));t.expansions=e,n.$storage.config=t})}}]),n}();e.DomEngine={templateUrl:"app/containers/DomEngine.html",controller:p}},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){return{restrict:"A",link:function(n,e){var t=function(){e.parent().children().css({display:"inline-block"}),e.css({display:"none"})};e.on("error",function(){return t()})}}};e["default"]=t},function(n,e){"use strict";function t(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function a(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),s=function(){function n(){a(this,n),this.cards=[],this.types={attack:0,duration:0,reaction:0,treasure:0,victory:0},this.adds={buy:0,action:0,draw:0,coin:0},this.curse=0,this.cost=0,this.requiredCards={supply:{},other:{}}}return r(n,[{key:"importPlayset",value:function(n,e){return this.parseCardString(n,e),this.setRequiredCards(e),this.setPlaysetValues(),this}},{key:"parseCardString",value:function(n,e){var t=n.split(/(?=[A-Z])/);this.cards=e.filter(function(n){return t.indexOf(n.id)>-1})}},{key:"setPlaysetValues",value:function(){var n=!0,e=!1,t=void 0;try{for(var a,r=this.cards[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var s=a.value;for(var i in this.types)s.types.includes(i)&&(this.types[i]+=1);for(var o in this.adds)({}).hasOwnProperty.call(this.adds,o)&&(this.adds[o]+=parseInt(s.adds[o],10));this.curse+=s.requires.includes("Curse")?1:0,this.cost+=s.cost.coin?parseInt(s.cost.coin.replace(/[\D]/gi,""),10):1}}catch(l){e=!0,t=l}finally{try{!n&&r["return"]&&r["return"]()}finally{if(e)throw t}}}},{key:"addCard",value:function(n){this.cards.push(n),this.cost+=n.cost.coin?parseInt(n.cost.coin.replace(/[\D]/gi,""),10):1,this.curse+=n.requires.includes("Curse")?1:0;for(var e in this.types)n.types.includes(e)&&(this.types[e]+=1);for(var t in this.adds)({}).hasOwnProperty.call(this.adds,t)&&(this.adds[t]+=parseInt(n.adds[t],10))}},{key:"removeCard",value:function(n){this.cards.splice(this.cards.indexOf(n),1),this.cost-=n.cost.coin?parseInt(n.cost.coin.replace(/[\D]/gi,""),10):1,this.curse-=n.requires.includes("Curse")?1:0;for(var e in this.types)n.types.includes(e)&&(this.types[e]-=1);for(var t in this.adds)({}).hasOwnProperty.call(this.adds,t)&&(this.adds[t]-=parseInt(n.adds[t],10))}},{key:"setRequiredCards",value:function(n){var e=this,a=0,r=new Set(["Copper","Silver","Gold","Estate","Duchy","Province"]),s=new Set,i=new Set,o=!0,l=!1,c=void 0;try{for(var d,u=this.cards[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var p=d.value;"Prosperity"===p.set&&a++;var h=new Set(p.requires);r=new Set([].concat(t(r),t(h)))}}catch(f){l=!0,c=f}finally{try{!o&&u["return"]&&u["return"]()}finally{if(l)throw c}}if(a>=5){var m=new Set(["Colony","Platinum"]);r=new Set([].concat(t(r),t(m)))}var v=!0,g=!1,y=void 0;try{for(var b,x=function(){var t=b.value,a=n.filter(function(n){return t===n.name});a[0]?a[0].types.includes("supply")?s.add(a[0]):i.add(a[0]):e.errors.push("Cannot find required card "+t)},$=r[Symbol.iterator]();!(v=(b=$.next()).done);v=!0)x()}catch(f){g=!0,y=f}finally{try{!v&&$["return"]&&$["return"]()}finally{if(g)throw y}}this.requiredCards={supply:[].concat(t(s)),other:[].concat(t(i))}}},{key:"sortCards",value:function(){this.cards.sort(function(n,e){var t=n.cost.coin?parseInt(n.cost.coin.replace(/[\D]/gi,""),10):1,a=e.cost.coin?parseInt(e.cost.coin.replace(/[\D]/gi,""),10):1;return t<a?-1:t>a?1:0})}},{key:"getPlaysetId",value:function(){var n="",e=!0,t=!1,a=void 0;try{for(var r,s=this.cards[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;n=n.concat(i.id)}}catch(o){t=!0,a=o}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw a}}return n}}]),n}();e["default"]=s},function(n,e){"use strict";function t(n,e,t){t.html5Mode(!0).hashPrefix("!"),e.otherwise("/"),n.state("welcome",{url:"/",template:'<welcome on-build="$ctrl.onBuild()" expansions="$ctrl.$storage.config.expansions"></welcome>'}).state("inventory",{url:"/inventory",template:'<inventory expansions="$ctrl.expansions" inventory="$ctrl.inventory" card-types="$ctrl.cardTypes"></inventory>'}).state("advancedOptions",{url:"/advanced-options",template:'<advanced-options config="$ctrl.$storage.config" on-build="$ctrl.onBuild()" reset-options="$ctrl.resetOptions()"></advanced-options>'}).state("playset",{url:"/playset?p",template:'<playmat playset="$ctrl.$storage.playset" on-build="$ctrl.onBuild()" errors="$ctrl.errors" warning="$ctrl.warning"></playmat>'}).state("about",{url:"/about",template:"<about></about>"})}t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=t},function(n,e){"use strict";function t(n){n.$on("$stateChangeSuccess",function(e,t,a,r){n.$state=t.name,n.$previousState=r.name})}t.$inject=["$rootScope"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=t},,function(n,e,t){t(2),n.exports=t(1)}],[28]);