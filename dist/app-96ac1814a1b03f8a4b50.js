webpackJsonp([1],[,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(0),o=r(a);o["default"].module("app").run(["$templateCache",function(e){e.put("app/containers/DomEngine.html",'<div class="container">\n    <div class="row" style="margin-top:2rem">\n        <div class="col-xs-12">\n            <h2>Choose your sets</h2>\n            <label ng-repeat="set in $ctrl.sets" for="{{ set.name }}" class="form-check-inline">\n                <input type="checkbox" id="{{ set.name }}" ng-model="set.use" class="form-check-input">\n                {{ set.name }}\n            </label>\n        </div>\n        <button class="btn btn-warning pull-xs-right" ng-click="$ctrl.buildPlayset()">Build</button>\n    </div>\n    <div class="row">\n        <div class="col-xs-12">\n            <h2>Result</h2>\n        </div>\n    </div>\n    <card-list cards="$ctrl.playSet.cards"></card-list>\n</div>\n'),e.put("app/containers/Inventory.html",'<div class="container">\n    <search-form search-params="$ctrl.searchParams" on-search="$ctrl.search($event)"></search-form>\n    <card-list cards="$ctrl.cards"></card-list>\n</div>\n'),e.put("app/components/Card.html",'<div class="card">\n    <img class="card-image" ng-src="{{ $ctrl.card.image }}" alt="{{ $ctrl.card.name }}" check-loaded>\n    <div class="card-desc" style="display:none">\n        <h4 class="card-title">{{ $ctrl.card.name }}</h4>\n        <p class="card-text" ng-repeat="text in $ctrl.card.text track by $index">{{ text }}</p>\n    </div>\n</div>\n'),e.put("app/components/CardList.html",'<div class="row" style="margin-top:20px">\n    <div class="col-xs-12">\n        <div class="flex-container">\n            <dominion-card ng-repeat="card in $ctrl.cards | filter:{show: true} track by $index" card="card"></dominion-card>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/Nav.html",'<nav class="navbar navbar-light bg-faded">\n    <a class="navbar-brand" href="/">DomEngine</a>\n    <ul class="nav navbar-nav">\n        <li class="nav-item active">\n            <a class="nav-link" ng-href="inventory">Card Database</a>\n        </li>\n    </ul>\n    <!--<form class="form-inline pull-xs-right">\n        <input class="form-control" type="text" placeholder="Search">\n        <button class="btn btn-outline-success" type="submit">Search</button>\n    </form>-->\n</nav>'),e.put("app/components/SearchForm.html",'<div class="row">\n    <form class="form" ng-submit="$ctrl.onSubmit()">\n        <div class="form-group">\n            <label for="cardName">Title</label>\n            <input type="text" class="form-control" id="cardName" ng-model="$ctrl.searchParams.name">\n        </div>\n        <div class="form-group">\n            <label ng-repeat="(type,value) in $ctrl.searchParams.types" for="{{ type }}" class="form-check-inline">\n                <input type="checkbox" id="{{ type }}" ng-model="$ctrl.searchParams.types[type]" class="form-check-input">\n                {{ type }}\n            </label>\n        </div>\n        <button type="submit" class="btn btn-primary">Search</button>\n    </form>\n</div>\n')}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(0),o=r(a),i=n(11),c=n(12),s=n(6),l=n(7),u=n(8),d=n(9),f=n(10),p=n(13),v=r(p);n(3);var m=n(14),h=r(m);n(5),o["default"].module("app",["ui.router"]).config(h["default"]).service("DomEngineService",s.DomEngineService).component("domengine",i.DomEngine).component("inventory",c.Inventory).component("domengineNav",d.Nav).component("cardList",u.CardList).component("dominionCard",l.Card).component("searchForm",f.SearchForm).directive("checkLoaded",v["default"])},,,function(e,t){},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DomEngineService=function(){function e(t){n(this,e),this.$http=t}return e.$inject=["$http"],r(e,[{key:"getCards",value:function(){function e(e){return e.data}function t(e){console.log("XHR Failed for getCards."),console.log(e.data)}return this.$http.get("/data/cards.json").then(e)["catch"](t)}},{key:"getSets",value:function(){function e(e){return e.data}function t(e){console.log("XHR Failed for getSets."),console.log(e.data)}return this.$http.get("/data/sets.json").then(e)["catch"](t)}}]),e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Card={templateUrl:"app/components/Card.html",bindings:{card:"<"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CardList={templateUrl:"app/components/CardList.html",bindings:{cards:"<"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Nav={templateUrl:"app/components/Nav.html"}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){n(this,e)}return r(e,[{key:"onSubmit",value:function(){this.onSearch({$event:{searchParams:this.searchParams}})}}]),e}();t.SearchForm={bindings:{searchParams:"<",searchTypes:"<",onSearch:"&"},templateUrl:"app/components/SearchForm.html",controller:a}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this._ds=t}return e.$inject=["DomEngineService"],r(e,[{key:"$onInit",value:function(){var e=this;this.sets=[],this.config={attackLimit:2,lowerBound:35,upperBound:42},this._ds.getSets().then(function(t){e.sets=t})}},{key:"buildPlayset",value:function(){var e=this,t=[],n=!0,r=!1,a=void 0;try{for(var o,i=this.sets[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;c.use&&t.push(c.name)}}catch(s){r=!0,a=s}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw a}}console.log(t),this._ds.getCards().then(function(n){var r=[],a=!0,o=!1,i=void 0;try{for(var c,s=n[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;t.indexOf(l.set)!==-1&&r.push(l)}}catch(u){o=!0,i=u}finally{try{!a&&s["return"]&&s["return"]()}finally{if(o)throw i}}console.log(r),e.playSet=e.getPlayset(r,e.config),e.playSet.cards.sort(function(e,t){var n=e.cost.coin?parseInt(e.cost.coin.replace(/[\D]/gi,""),10):1,r=t.cost.coin?parseInt(t.cost.coin.replace(/[\D]/gi,""),10):1;return n<r?-1:n>r?1:0}),console.log(e.playSet)})}},{key:"getPlayset",value:function(e,t){var n={cards:[],totalAttacks:0,totalCost:0};return n=this.getSet(e,t,n,5),n=this.getSet(e,t,n)}},{key:"getSet",value:function(e,t,n){for(var r=arguments.length<=3||void 0===arguments[3]?5:arguments[3],a=e.length,o=10-n.cards.length,i=o>=5?t.upperBound:t.lowerBound,c=o<r?o:r,s=0;s<c;){var l=this.randomNumber(a),u=e[l],d=u.cost.coin?parseInt(u.cost.coin.replace(/[\D]/gi,""),10):1,f=parseInt(u.types.indexOf("Attack"),10)>-1?1:0;n.cards.indexOf(u)===-1&&n.totalAttacks+f<=t.attackLimit&&n.totalCost+d<=i&&(n.cards.push(u),n.totalAttacks+=f,n.totalCost+=d,s++)}return n}},{key:"randomNumber",value:function(e){return Math.floor(Math.random()*e)}}]),e}();t.DomEngine={templateUrl:"app/containers/DomEngine.html",controller:a}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this._ds=t}return e.$inject=["DomEngineService"],r(e,[{key:"$onInit",value:function(){var e=this;this.cards=[],this.searchParams={name:"",types:[]},this._ds.getCards(this.searchParams).then(function(t){e.searchParams.types=e.setTypes(t),e.cards=t})}},{key:"setTypes",value:function(e){var t={},n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,s=!0,l=!1,u=void 0;try{for(var d,f=c.types[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;p in t||(t[p]=!1)}}catch(v){l=!0,u=v}finally{try{!s&&f["return"]&&f["return"]()}finally{if(l)throw u}}}}catch(v){r=!0,a=v}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw a}}return t}},{key:"search",value:function(e){var t=e.searchParams;if(t){this.searchParams=t;var n=!0,r=!1,a=void 0;try{for(var o,i=this.cards[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,s=!0;if(t.name&&s){var l=0,u=new RegExp(t.name,"gi");if(c.name.match(u))l+=1;else{var d=!0,f=!1,p=void 0;try{for(var v,m=c.text[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var h=v.value;h.match(u)&&(l+=1)}}catch(y){f=!0,p=y}finally{try{!d&&m["return"]&&m["return"]()}finally{if(f)throw p}}}s=l>0}if(s){var g=0;for(var b in t.types)t.types[b]&&(g=c.types.indexOf(b)>-1?g+1:g);s=g>0}c.show=s}}catch(y){r=!0,a=y}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw a}}}}}]),e}();t.Inventory={templateUrl:"app/containers/Inventory.html",controller:a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return{restrict:"A",link:function(e,t){var n=function(){t.parent().children().css({display:"inline-block"}),t.css({display:"none"})};t.on("error",function(){return n()})}}};t["default"]=n},function(e,t){"use strict";function n(e,t,n){n.html5Mode(!0).hashPrefix("!"),t.otherwise("/"),e.state("domengine",{url:"/",template:"<domengine></domengine>"}).state("inventory",{url:"/inventory",template:"<inventory></inventory>"})}n.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){n(2),e.exports=n(1)}],[15]);